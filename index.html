<div id="darkModeToggle" class="float-toggle">
  <input type="checkbox" id="darkModeSwitch" onclick="toggleDarkMode()">
  <label for="darkModeSwitch">
    <span class="toggle-track">
      <span class="toggle-indicator">
        <span class="checkMark">
          <svg viewBox="0 0 24 24" id="ghq-svg-check" role="presentation" aria-hidden="true">
            <path d="M9.86 18a1 1 0 01-.73-.32l-4.86-5.17a1.001 1.001 0 011.46-1.37l4.12 4.39 8.41-9.2a1 1 0 111.48 1.34l-9.14 10a1 1 0 01-.73.33h-.01z"></path>
          </svg>
        </span>
      </span>
    </span>
  </label>
</div>

<style>
  .float-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
  }
  
  .float-toggle input[type="checkbox"] {
    display: none;
  }
  
  .float-toggle label {
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    width: 50px;
    height: 25px;
    background: #3d3d3d;
    border-radius: 100px;
    position: relative;
    transition: background-color .2s;
  }
  
  .float-toggle .toggle-track {
    background: #3d3d3d;
    border-radius: 100px;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    transition: 0.4s;
  }
  
  .float-toggle .toggle-indicator {
    height: 21px;
    width: 21px;
    background: #fff;
    border-radius: 50%;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: 0.4s;
  }
  
  .float-toggle input:checked + label .toggle-indicator {
    transform: translateX(25px);
  }
  
  .float-toggle input:checked + label .toggle-track {
    background: #81b3f3;
  }
  
  .float-toggle .checkMark {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
  }
  
  .float-toggle .checkMark svg {
    width: 12px;
    height: 12px;
    fill: #3d3d3d;
  }
  
  body.dark-mode {
    background-color: #333;
    color: #fff;
  }
</style>

<script>
  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDarkMode = document.body.classList.contains('dark-mode');
    localStorage.setItem('darkMode', isDarkMode);
  }
  
  window.onload = function() {
    const isDarkMode = localStorage.getItem('darkMode') === 'true';
    if (isDarkMode) {
      document.body.classList.add('dark-mode');
      document.getElementById('darkModeSwitch').checked = true;
    }
  }
</script>
